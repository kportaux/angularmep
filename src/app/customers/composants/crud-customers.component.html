
<div class="container">
  <div class="row ">
    <div class="col-4">
      <h2 *ngIf="!updating">Ajouter un customer</h2>
      <h2 *ngIf="updating">Mofifier ce customer</h2>
      <div class="card">
        <div class="card-body">
          <input type="hidden" [(ngModel)] = "newCustomer.id" >
          <div class="form-group">
            <input type="text" [(ngModel)] = "newCustomer.name" placeholder="Name" class="form-control" >
          </div>
          <div class="form-group">
            <input type="text" [(ngModel)] = "newCustomer.email" placeholder="email" class="form-control" >
          </div>
          <div class="form-group">
            <input type="text" [(ngModel)] = "newCustomer.tel" placeholder="tel" class="form-control" >
          </div>
          <input *ngIf="!updating" class="btn btn-primary" type="submit" (click)="addCustomer()" value="Ajouter" >
          <input *ngIf="updating" class="btn btn-primary" type="submit" (click)="updateCustomer()" value="Modifier" >
        </div>
      </div>
    </div>
  </div>
</div>

<br/>
<div class="container">

  <table class="table table-sm">
    <thead class="thead-light">
    <tr>
      <th scope="col">#</th>
      <th scope="col"><input [(ngModel)]="nameFilter" (ngModelChange)="filterOnName()"></th>
      <th scope="col">email</th>
      <th scope="col">tel</th>
      <th scope="col"></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let cust of ListCustomers | async" > <!--filtertab: 'name':'Cust5'"-->
      <td>{{cust.id}}</td>
      <td>{{cust.name}}</td>
      <td>{{cust.email}}</td>
      <td>{{cust.tel}}</td>
      <td>
        <span class="btn btn-danger" (click)="chargeCustomer(cust)">Modifier</span>
        <span class="btn btn-danger" (click)="deleteCustomer(cust.id)">Supprimer</span>
        <a class="btn btn-success" [routerLink]="['/customUp', cust.id]">Modifier (par Route)</a>
      </td>
    </tr>
    </tbody>
  </table>


</div>
